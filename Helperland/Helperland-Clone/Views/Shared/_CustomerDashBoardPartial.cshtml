@using Helperland_Clone.ViewModels;
@*@model IEnumerable<CustomerDashboardViewModel>*@
@model CombinedAllViewModels

      <div id="Dashboard" class="tabcontent">
                <div class="Dashboard d-flex align-items-center justify-content-between">
                    <div><h3>Customer Service Requests</h3></div>
                    <div><button type="button" class="btn btn-outline-light">Add New Service Request</button></div>
                </div>
                <div class="table-responsive-to-card">
                    <table class="table" id="dashbordTable">
                        <thead>
                          <tr>
                            <th scope="col" class="align-middle">
                                <p>Service ID <img src="~/images/sort.png"></p>
                            </th>
                            <th scope="col" class="align-middle">
                                <p>Service Date <img src="~/images/sort.png"></p>
                            </th>
                            <th scope="col" class="align-middle">
                                <p>Service Provider <img src="~/images/sort.png"></p>
                            </th>
                            <th scope="col" class="align-middle">
                                <p>Payment <img src="~/images/sort.png"></p>
                            </th>
                            <th scope="col" class="align-middle">
                                <p>Action <img src="~/images/sort.png"></p>
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                        @foreach (CustomerDashboardViewModel request in Model.DashboardViewModel)
                        {
                            @if (request.Status == 1)
                            {
                                <tr data-bs-toggle="modal" data-bs-target="#serviceDetails" data-value=@request.ServiceId>
                                    <th scope="row" class="align-middle">
                                        <p>@request.ServiceId</p>
                                    </th>
                                    <td class="align-middle">
                                        <p><img src="~/images/calendar2.png" style="margin:0px 5px 7px 0px"><b>@request.Date</b><br>
                                            <img src="~/images/layer-14.png">@request.StartTime - @request.EndTime</p>
                                    </td>
                                    <td class="d-flex justify-content-center">
                                        @if (request.ServiceProvider != null)
                                        {
                                            <div class="cap">
                                                <img src="~/images/cap.png">
                                            </div>
                                            <div class="d-flex">
                                                <p style="margin-left: 10px">@request.ServiceProvider<br>
                                                    <img src="~/images/star1.png"> 
                                                    <img src="~/images/star1.png">
                                                    <img src="~/images/star1.png">
                                                    <img src="~/images/star1.png">
                                                    <img src="~/images/star2.png">
                                                    4</p>
                                            </div>
                                        }
                                    </td>
                                    <td class="align-middle">
                                        <div class="d-flex justify-content-center">
                                            <span style="font-size: 18px; color: #1D7A8C; margin-top: 6px">&euro;</span>
                                            <p style="font-size: 24px; color: #1D7A8C; font-weight: bold">@request.TotalCost</p>
                                        </div>
                                    </td>
                                    <td class="align-middle">
                                        <button type="button" class="btn btn-outline-light rescheduleService" id="RescheduleBtn" data-bs-toggle="modal" data-bs-target="#reScheduleModal">Reschedule</button>
                                        <button type="button" class="btn btn-outline-light cancelService" id="CancelServiceBtn" data-bs-toggle="modal" data-bs-target="#cancelServiceModal">Cancel</button>
                                    </td>
                                </tr>
                            }
                        }
                        </tbody>
                    </table>
                  </div>         
                    
            </div>
            
            <div id="Service History" class="tabcontent">
                <div class="Service-History d-flex align-items-center justify-content-between">
                    <div><h3>Service History</h3></div>
                    <div><button type="button" class="btn btn-outline-light">Export</button></div>
                </div>
                <div class="table-responsive-to-card">
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col" class="align-middle">
                             <p>Service ID <img src="~/images/sort.png"></p>
                        </th>
                        <th scope="col" class="align-middle">
                            <p>Service Details <img src="~/images/sort.png"></p>
                        </th>
                        <th scope="col" class="align-middle">
                            <p>Service Provider <img src="~/images/sort.png"></p>
                        </th>
                        <th scope="col" class="align-middle">
                            <p>Payment <img src="~/images/sort.png"></p>
                        </th>
                        <th scope="col" class="align-middle">
                            <p>Status <img src="~/images/sort.png"></p>
                        </th>
                        <th scope="col" class="align-middle">
                            <p>Rate SP</p>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                         @foreach (CustomerDashboardViewModel request in Model.DashboardViewModel)
                        {
                            @if (request.Status == 2 || request.Status == 3)
                            {
                                <tr data-bs-toggle="modal" data-bs-target="#serviceDetails" data-value=@request.ServiceId>
                                    <th scope="row" class="align-middle">
                                        <p>@request.ServiceId</p>
                                    </th>
                        <td scope="row" class="align-middle">
                            <p><img src="~/images/calendar.png" style="margin:0px 5px 7px 0px"><b>@request.Date</b><br>
                                @request.StartTime - @request.EndTime</p>
                        </td>
                        <td scope="row" class="d-flex justify-content-center">
                                        @if (request.ServiceProvider != null)
                                        {
                                            <div class="cap">
                                                <img src="~/images/cap.png">
                                            </div>
                                            <div class="d-flex">
                                                <p style="margin-left: 10px">Lyum Watson<br>
                                                    <img src="~/images/star1.png"> 
                                                    <img src="~/images/star1.png">
                                                    <img src="~/images/star1.png">
                                                    <img src="~/images/star1.png">
                                                    <img src="~/images/star2.png">
                                                    4</p>
                                            </div>
                                        }
                                    </td>
                        <td class="align-middle">
                            <div class="d-flex justify-content-center">
                                <span style="font-size: 18px; color: #1D7A8C; margin-top: 6px">&euro;</span>
                                <p style="font-size: 24px; color: #1D7A8C; font-weight: bold">@request.TotalCost</p>
                            </div>
                        </td>
                                    @if (request.Status == 2)
                                    {
                                        <td class="align-middle">
                                            <button type="button" class="btn btn-outline-light" style="background-color: #67B644; line-height: 1;">Completed</button>
                                        </td>
                                        <td class="align-middle">
                                            <button type="button" class="btn btn-outline-light" style="background-color: #6DA9B5; border-radius: 20px" data-bs-toggle="modal" data-bs-target="#rateSpModal">Rate SP</button>
                                        </td>
                                    }
                                    @if (request.Status == 3)
                                    {
                                        <td class="align-middle">
                                            <button type="button" class="btn btn-outline-light" style="background-color: #FF6B6B; line-height: 1;">Cancelled</button>
                                        </td>
                                        <td class="align-middle">
                                            <button type="button" class="btn btn-outline-light" style="background-color: #6DA9B5; border-radius: 20px" disabled>Rate SP</button>
                                        </td>
                                    }
                      </tr>
                            }
                        }                     
                    </tbody>
                  </table>
                </div>
                  <div class="row mt-2">
                    <div class="col-md-6 d-flex align-items-center">
                        <label for="no_rows" style="margin-right: 10px"><p style="margin: 0px; font-size: 14px">Show</p> </label>
                        <select name="rows" id="rows" style="margin-right: 10px">
                            <option value="10">10</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                            <option value="200">200</option>
                        </select>
                        <p style="margin: 0px; font-size: 14px">entries Total Record: 55</p>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex justify-content-end" id="page-nav">
                            <button class="page-btn">
                                <img src="~/images/first-page.png" >
                            </button>
                            <button class="page-btn">
                                <img src="~/images/keyboard-right-arrow-button-copy.png">
                            </button>
                            <button class="page-btn active">1</li>
                            <button class="page-btn">2</button>
                            <button class="page-btn">3</button>
                            <button class="page-btn">4</button>
                            <button class="page-btn">
                                <img src="~/images/keyboard-right-arrow-button-copy.png" class="rotate-img">
                            </button>
                            <button class="page-btn">
                                <img src="~/images/first-page.png"  class="rotate-img">
                            </button>
                        </div>
                    </div>
                </div>
        </div>
